import{p as j,j as e,S as x,T as y,L as h,r as i,h as k,B as v,f as N}from"./index-DAWEFctM.js";import{w as S,W as L}from"./welcomeData-BS4JRL7c.js";const D="_modal_3ysjx_1",E="_content_3ysjx_23",T="_title_3ysjx_29",F="_text_3ysjx_37",I="_link_3ysjx_45",l={modal:D,content:E,title:T,text:F,link:I},f=({setIsOpen:s})=>e.jsx("dialog",{className:l.modal,children:e.jsxs(x,{classNameContainer:l.content,children:[e.jsx(y,{className:l.title,type:"h1",children:"Tak!"}),e.jsx("p",{className:l.text,children:"Vi er så glade for at du vil være en del af vores kundeklub. Tag et kig i din indbakke. Vi har givet dig fri fragt på din første ordre."}),e.jsx(h,{onClick:()=>s(!1),to:"/legekrogen",className:l.link,children:"TIL FORSIDEN"})]})});f.propTypes={setIsOpen:j.PropTypes.func};const C=()=>{const s={name:"",email:"",message:""},[n,c]=i.useState(s),[m,a]=i.useState(!1),[u,r]=i.useState(""),[b,_]=i.useState(!1);return{formData:n,isLoading:m,error:u,submitHandler:async d=>{if(a(!0),r(""),d.preventDefault(),n.name===""||n.email===""||n.message===""){r("Feltene er ikke udfyldt"),a(!1);return}try{const t=await k(n);if(t!=null&&t.created){_(!0),r("");return}t!=null&&t.message&&r(t.message)}catch(t){r(t.message)}finally{a(!1)}},inputHandler:d=>{const{name:t,value:g}=d.target;c({...n,[t]:g})},isOpen:b,setIsOpen:_}},H="_form_1v2p1_1",M="_input_1v2p1_21",O="_button_1v2p1_51",w="_error_1v2p1_121",B="_loader_1v2p1_145",o={form:H,input:M,button:O,error:w,loader:B},V=()=>{const{formData:s,isLoading:n,error:c,submitHandler:m,inputHandler:a,isOpen:u,setIsOpen:r}=C();return e.jsxs(x,{children:[e.jsxs("form",{onSubmit:m,className:o.form,children:[e.jsx("input",{className:o.input,type:"text",name:"name",placeholder:"Fulde navn",value:s.name,onChange:a}),e.jsx("input",{className:o.input,type:"email",name:"email",placeholder:"Email",value:s.email,onChange:a}),e.jsx("textarea",{className:o.input,placeholder:"Hvem køber du legetøj til?",name:"message",rows:3,value:s.message,onChange:a}),e.jsx(v,{disabled:n,type:"submit",className:o.button,children:n?e.jsxs(e.Fragment,{children:["BLIV MEDLEM NU!",e.jsx(N,{className:o.loader})]}):"BLIV MEDLEM NU!"}),c&&e.jsx("p",{className:o.error,children:c})]}),u&&e.jsx(f,{setIsOpen:r})]})},K="_section_r0isx_1",R="_container_r0isx_9",U="_subtitle_r0isx_23",p={section:K,container:R,subtitle:U},z=()=>{const s=i.useMemo(()=>({...S.kundeklubben,titleType:"h2",sectionStyles:p.section,containerStyles:p.container,subtitleStyles:p.subtitle}),[]);return e.jsxs(e.Fragment,{children:[e.jsx(L,{...s}),e.jsx(V,{})]})};export{z as default};
